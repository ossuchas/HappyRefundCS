

<mat-dialog-content>
    <div class="d-flex justify-content-between m-3">
        <h5>Document Upload</h5>
        <!-- <button
            mat-button
            (click)="onClose()"
        >
            <mat-icon>close</mat-icon>
        </button> -->

        <a
            mat-icon-button
            color="warn"
            (click)="onClose2()"
        >
            <mat-icon>close</mat-icon>
        </a>
    </div>
    <div class="container">
        <input
            type="file"
            #file
            style="display: none"
            (change)="onFilesAdded()"
            multiple
        />
        <div
            class="container"
            fxLayout="column"
            fxLayoutAlign="space-evenly stretch"
        >
            <!-- <h1 mat-dialog-title>Upload Document Files</h1> -->
            <ul class="list-group collapse">
                <li class="list-group-item active">เอกสารประกอบการพิจารณา</li>
                <li class="list-group-item">1.บัตรประชาชน (กรณีคนไทย) หรือ หนังสือเดินทาง Passport (กรณีชาวต่างชาติ)
                    <span style="font-weight:bold;color:red">ของผู้ถือกรรมสิทธิ์ร่วมทุกท่าน</span> / 
                    <br> 
                    <span style="font-weight:bold;color:black;font-size:small;">
                        Valid Passport copy and co-ownership's passport copy(if any).
                    </span>
                </li>
                <li class="list-group-item">
                    2.หน้าสมุดบัญชีเงินฝาก (ออมทรัพย์) เช่น Kbank,SCB,BBL,BAY,KTB เป็นต้น / 
                    <br> 
                    <span style="font-weight:bold;color:black;font-size:small;">
                    Thai Bank passbook or overseas bank passbook or e-statement which shown Customer name and bank account number.
                    </span>
                </li>
                <li class="list-group-item">
                    3.เอกสารใบเปลี่ยนชื่อตัว - ชื่อสกุล (ถ้ามี) / 
                    <span style="font-weight:bold;color:black;font-size:small;">
                    Change name certificate(if any).
                    </span>
                </li>
                <li class="list-group-item">
                    4.กรณีผู้ถือกรรมสิทธิ์เป็นชาวต่างชาติและต้องการให้โอนเงินเข้าบัญชีของตนเองในต่างประเทศ
                    ต้องกรอกแบบฟอร์มการขอโอนเงินไปต่างประเทศให้ครบถ้วน / <br>
                    <span style="font-weight:bold;color:black;font-size:small;">
                    In case request AP to transfer refund to Overseas bank account,please fill in 'Global Outward Application From'  
                    </span> 
                    <a
                        href="https://drive.google.com/open?id=1ftq6p_x5jLASov7emV9ijwUyB-4J56WY"
                        target="_blank"
                    >download</a>
                </li>
            </ul>
            <br>
            <div class="form-row">
                <div class="col">
                    <label for="exampleSelec">บัญชีธนาคารลูกค้า / Customer Bank Name</label>
                    <form #f="ngForm">
                        <select
                            required
                            type="text"
                            class="form-control"
                            name="dl"
                            [(ngModel)]="bankName"
                            placeholder="กรุณากรอกบัญชีธนาคาร"
                            (change)="changdropdown()"
                        >
                            <option
                                *ngFor="let dl of listItems"
                                [ngValue]="dl"
                            >{{ dl.bankname }}</option>
                        </select>
                    </form>
                </div>
                <div class="col">
                    <label for="exampleSelec">สาขาธนาคารลูกค้า / Customer Bank Branch</label>
                    <!-- <select
                        required
                        type="text"
                        class="form-control"
                        name="bankbranch"
                        [(ngModel)]="bankbranch"
                        placeholder="กรุณากรอกสาขาธนาคาร"
                        [disabled]="bankName.bankno=='999'"
                        (search)=""
                    >
                        <option
                            *ngFor="let dl of listBankBranch"
                            [ngValue]="dl"
                        >{{ dl.bankBranchName }}</option>
                    </select>  -->
                    <ng-select 
                        name="bankbranch"
                        [items]="listBankBranch"
                        bindLabel="bankBranchName"
                        dropdownPosition="show"
                        [(ngModel)]="bankbranch" 
                        *ngIf="bankName.bankno !== '999' && (bankName&&bankName.bankno) && listBankBranch.length>0">
                    </ng-select>
                    <ng-select 
                        name="bankbranch"
                        [items]="listBankBranch"
                        bindLabel="bankBranchName"
                        dropdownPosition="show"
                        [(ngModel)]="bankbranch" 
                        *ngIf="bankName.bankno === '999' || !(bankName&&bankName.bankno) || listBankBranch.length === 0"
                        disabled>
                    </ng-select>
                </div>
            </div>
            <br>
            <div class="form-row">
                <div class="col">
                    <label for="exampleSelec">เลขที่บัญชีลูกค้า / Customer Bank Account Number</label>
                    <input
                        type="text"
                        class="form-control"
                        name="bankaccountno"
                        #bankaccountno="ngModel"
                        [(ngModel)]="bankAccountNo"
                        placeholder="กรุณากรอกเลขบัญชี"
                    >
                </div>
                <div class="col">
                    <label for="exampleSelec">ชื่อบัญชีลูกค้า / Bank Account Name</label>
                    <select
                        required
                        type="text"
                        class="form-control"
                        name="bankaccountname"
                        #bankaccountname="ngModel"
                        [(ngModel)]="bankAccountName"
                        placeholder="กรุณากรอกชื่อบัญชีลูกค้า"
                    >
                        <option
                            *ngFor="let dl of listItemsBankName"
                            [value]="dl"
                        >{{ dl }}</option>
                    </select>
                </div>
            </div>

            <br>

            <!-- 
            <div class="m-3">

                <div class="input-group-prepend">
                    <span class="input-group-text">บัญชีธนาคารลูกค้า</span>
                </div>

                <select
                    required
                    type="text"
                    class="form-control"
                    name="bankcode"
                    #bankcode="ngModel"
                    [(ngModel)]="bankName"
                >
                    <option
                        *ngFor="let dl of listItems"
                        [value]="dl"
                    >{{ dl }}</option>
                </select>

                &nbsp;&nbsp;

                <div class="input-group-prepend">
                    <span class="input-group-text">เลขที่บัญชีลูกค้า</span>
                </div>
                <input
                    type="number"
                    class="form-control"
                    name="bankaccountno"
                    #bankaccountno="ngModel"
                    [(ngModel)]="bankAccountNo"
                    placeholder="กรุณากรอกตัวเลข"
                >

                &nbsp;&nbsp;

                <div class="input-group-prepend">
                    <span class="input-group-text">ชื่อบัญชีลูกค้า</span>
                </div>
                <select
                    required
                    type="text"
                    class="form-control"
                    name="bankaccountname"
                    #bankaccountname="ngModel"
                    [(ngModel)]="bankAccountName"
                >
                    <option
                        *ngFor="let dl of listItemsBankName"
                        [value]="dl"
                    >{{ dl }}</option>
                </select>
            </div> -->
            <!-- <div class="m-3 input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">เลขที่บัญชีลูกค้า</span>
                </div>
                <input
                    type="text"
                    class="form-control"
                    name="bankaccountno"
                    #bankaccountno="ngModel"
                    [(ngModel)]="bankAccountNo"
                    placeholder="ตัวอย่างเลขบัญชี 1234567890"
                >

            </div> -->


            <!-- <div class="m-3 input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">ชื่อบัญชีลูกค้า</span>
                </div>
                <select
                    required
                    type="text"
                    class="form-control"
                    name="bankaccountname"
                    #bankaccountname="ngModel"
                    [(ngModel)]="bankAccountName"
                >
                    <option
                        *ngFor="let dl of listItemsBankName"
                        [value]="dl"
                    >{{ dl }}</option>
                </select>
            </div> -->
            <div>
                <button
                    [disabled]="uploading || uploadSuccessful"
                    mat-raised-button
                    color="primary"
                    class="add-files-btn"
                    style="background-color: #007bff;"
                    (click)="addFiles()"
                >
                    Add Files
                </button>
                <label>&nbsp;&nbsp;</label><label class="text-danger">ไฟล์ที่สามารถส่งมาได้ เฉพาะนามสกุล JPG, JPEG, PNG
                    นี้เท่านั้น, และห้ามตั้งชื่อ file เป็นภาษาไทย</label>
            </div>

            <mat-dialog-content fxFlex>
                <mat-list>
                    <mat-list-item *ngFor="let file of files">

                        <h4 mat-line>{{file.name}}</h4>

                        <mat-progress-bar
                            *ngIf="progress"
                            mode="determinate"
                            [value]="progress[file.name].progress | async"
                        ></mat-progress-bar>

                    </mat-list-item>
                </mat-list>
            </mat-dialog-content>
            <mat-dialog-actions
                class="actions"
                *ngIf="showButton"
            >
                <button
                    *ngIf="showCancelButton"
                    mat-button
                    mat-dialog-close
                    class="add-files-btn"
                    style="background-color: #f44336; color: white;"
                >Cancel</button>
                <!-- <button mat-raised-button color="primary" [disabled]="!canBeClosed" (click)="closeDialog()"
                class="add-files-btn">{{primaryButtonText}}</button> -->
                <button
                    mat-raised-button
                    color="primary"
                    [disabled]="!canBeClosed"
                    (click)="openDialog()"
                    *ngIf="!confirmed"
                    class="add-files-btn"
                    style="background-color: #1e7e34;"
                >{{primaryButtonText}}</button>

                <button
                    mat-raised-button
                    color="primary"
                    *ngIf="confirmed"
                    (click)="onClose()"
                    class="add-files-btn"
                    style="background-color: #1e7e34;"
                    [disabled]="busy"
                >
                Finish</button>

                <!-- <button mat-raised-button color="primary" (click)="openDialog()" *ngIf="canBeClosed" class="add-files-btn">Upload</button>
            <button mat-raised-button color="primary" (click)="onClose()" *ngIf="!canBeClosed"
                class="add-files-btn">Finish</button> -->
            </mat-dialog-actions>
        </div>
    </div>
</mat-dialog-content>